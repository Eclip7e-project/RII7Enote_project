<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ANTON Wall - RII7E Sticky Notes</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
<style>
  :root{--gold:#d4af37;--bg:#000;--panel:#111;--muted:#ddd;}
  html,body{margin:0;padding:0;background:var(--bg);color:#fff;font-family:'Playfair Display',serif;}
  header{display:flex;flex-direction:column;align-items:center;background:#000;border-bottom:3px solid var(--gold);}
  header img.banner{width:100%;height:auto;object-fit:contain;}
  .wall{display:flex;flex-wrap:wrap;justify-content:center;gap:18px;margin:28px;}
  .sticky-note{width:150px;min-height:150px;background:#fff;border-radius:12px;padding:8px;box-shadow:0 6px 18px rgba(0,0,0,.6);position:relative;cursor:pointer;overflow:hidden;display:flex;align-items:center;justify-content:center;}
  .sticky-note img{width:100%;height:100%;object-fit:cover;border-radius:8px;display:block;}
  .sticky-note .label{position:absolute;bottom:6px;left:8px;right:8px;font-size:12px;color:#111;background:rgba(255,255,255,.85);padding:4px;border-radius:6px;text-align:center}
  .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:60;align-items:center;justify-content:center;padding:24px}
  .modal-content{background:#fff;color:#000;border-radius:12px;max-width:500px;width:100%;padding:18px;position:relative;display:flex;flex-direction:column;align-items:center;}
  .close{position:absolute;right:14px;top:10px;font-size:26px;cursor:pointer}
  #note-modal-img{width:100%;max-height:400px;object-fit:contain;border-radius:8px;}
  #note-modal-text{margin:12px 0;font-weight:700;text-align:center;word-break:break-word;}
  .like-btn{position:relative;padding:6px 12px;border:none;border-radius:8px;background:var(--gold);color:#000;font-weight:700;cursor:pointer;align-self:flex-end;}
  .delete-btn{margin-top:10px;padding:6px 12px;border:none;border-radius:8px;background:red;color:#fff;cursor:pointer;}
</style>
</head>
<body>

<header>
  <img class="banner" src="banner2.jpg" alt="RII7E banner">
  <h1 style="color:var(--gold);margin:12px 0;">ANTON's Wall</h1>
</header>

<main>
  <div class="wall" id="anton-wall"></div>
</main>

<!-- Modal -->
<div id="note-modal" class="modal">
  <div class="modal-content">
    <span class="close" id="note-modal-close">&times;</span>
    <img id="note-modal-img" src="" alt="Note">
    <p id="note-modal-text"></p>
    <button id="like-btn" class="like-btn">❤️ <span id="like-count">0</span></button>
    <button id="delete-btn" class="delete-btn" style="display:none;">Delete</button>
  </div>
</div>

<script>
const member = 'anton';
const wall = document.getElementById(member+'-wall');
const modal = document.getElementById('note-modal');
const modalClose = document.getElementById('note-modal-close');
const modalImg = document.getElementById('note-modal-img');
const modalText = document.getElementById('note-modal-text');
const likeBtn = document.getElementById('like-btn');
const likeCount = document.getElementById('like-count');
const deleteBtn = document.getElementById('delete-btn');

let notes = JSON.parse(localStorage.getItem(member) || '[]');
let currentNote = null;
const userNotes = JSON.parse(localStorage.getItem('userNotes_'+member)||'[]');

function renderNotes(){
  wall.innerHTML='';
  notes.forEach(note=>{
    if(note.deleted) return;
    const div = document.createElement('div');
    div.className='sticky-note';
    div.innerHTML = `<img src="${note.img}" alt=""><div class="label">${note.text}</div>`;
    div.onclick=()=>openModal(note);
    wall.appendChild(div);
  });
}

function openModal(note){
  currentNote = note;
  modalImg.src = note.img;
  modalText.textContent = note.text;
  likeCount.textContent = note.likes;
  modal.style.display='flex';
  // Show delete button only for user notes
  deleteBtn.style.display = userNotes.includes(note.id)?'block':'none';
}

modalClose.onclick = ()=> modal.style.display='none';
window.onclick = (e)=>{if(e.target===modal) modal.style.display='none'};

likeBtn.onclick = ()=>{
  if(!currentNote) return;
  const liked = JSON.parse(localStorage.getItem('liked_'+currentNote.id)||'false');
  if(liked) return alert('You already liked this note!');
  currentNote.likes++;
  localStorage.setItem(member, JSON.stringify(notes));
  localStorage.setItem('liked_'+currentNote.id,true);
  likeCount.textContent = currentNote.likes;
  renderNotes();
};

deleteBtn.onclick = ()=>{
  if(!currentNote) return;
  if(!confirm('Delete this note?')) return;
  currentNote.deleted = true;
  localStorage.setItem(member, JSON.stringify(notes));
  const index = userNotes.indexOf(currentNote.id);
  if(index>-1) userNotes.splice(index,1);
  localStorage.setItem('userNotes_'+member, JSON.stringify(userNotes));
  modal.style.display='none';
  renderNotes();
}

renderNotes();
</script>

</body>
</html>
