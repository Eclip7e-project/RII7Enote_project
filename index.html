<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RII7E Sticky Notes Project</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  font-family:'Playfair Display', serif;
  background-color:black;
  background-image:url('https://www.transparenttextures.com/patterns/stardust.png');
  color:white;
}
header {padding:40px; text-align:center;}
h1 {color:gold;}
section {padding:30px;}
.member-section {margin-top:50px;}
h2,h3 {margin-bottom:20px; text-align:center;}
.wall {display:flex; flex-wrap:wrap; justify-content:center; gap:20px;}
.sticky-note {
  width:150px; min-height:150px; background:white; border-radius:15px;
  padding:10px; box-shadow:3px 3px 10px rgba(0,0,0,0.5);
  display:flex; flex-direction:column; align-items:center; position:relative;
  cursor:pointer;
}
.sticky-note img {width:100%; border-radius:10px;}
.sticky-note .text {color:black; margin-top:5px; white-space:pre-wrap;}
button {padding:8px 12px; margin-top:5px; cursor:pointer;}
footer {padding:30px 0; border-top:2px solid gold; margin-top:50px; text-align:center;}
footer a {color:gold; text-decoration:none;}
footer a:hover{text-decoration:underline;}
.modal {
  display:none; position:fixed; z-index:100; left:0; top:0;
  width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.8);
}
.modal-content {
  background-color:#fefefe; margin:10% auto; padding:20px; border-radius:15px;
  width:80%; max-width:500px; position:relative;
}
.close {position:absolute; top:10px; right:20px; color:black; font-size:28px; font-weight:bold; cursor:pointer;}
textarea {width:100%; margin-top:10px; padding:8px; border-radius:10px; resize:none;}
nav a {color:gold; text-decoration:none; margin:0 5px;}
nav a:hover{text-decoration:underline;}
.design-container img {width:100px; border-radius:10px; border:2px solid; margin:5px;}
.design-container div {display:inline-block; position:relative; margin:5px;}
.design-container button {position:absolute; top:0; right:0; background:red; color:white; border:none; cursor:pointer;}
</style>
</head>
<body>

<header>
<h1>RII7E Sticky Notes Project</h1>
<p>Pick a sticky note for your favorite member, write your message, and submit! Your message will appear on the member’s wall instantly. Weekly top-liked notes will be highlighted.</p>
<nav>
  View Member Walls: 
  <a href="shotaro.html">SHOTARO</a> |
  <a href="eunseok.html">EUNSEOK</a> |
  <a href="sungchan.html">SUNGCHAN</a> |
  <a href="wonbin.html">WONBIN</a> |
  <a href="seunghan.html">SEUNGHAN</a> |
  <a href="sohee.html">SOHEE</a> |
  <a href="anton.html">ANTON</a> |
  <a href="brii7e.html">BRII7E</a> |
  <a href="favorites.html">FAVORITES</a>
</nav>
</header>

<section id="note-selection">
<h2>Pick a Sticky Note</h2>

<div class="member-section" id="shotaro-selection"><h3>SHOTARO</h3><div class="wall"></div></div>
<div class="member-section" id="eunseok-selection"><h3>EUNSEOK</h3><div class="wall"></div></div>
<div class="member-section" id="sungchan-selection"><h3>SUNGCHAN</h3><div class="wall"></div></div>
<div class="member-section" id="wonbin-selection"><h3>WONBIN</h3><div class="wall"></div></div>
<div class="member-section" id="seunghan-selection"><h3>SEUNGHAN</h3><div class="wall"></div></div>
<div class="member-section" id="sohee-selection"><h3>SOHEE</h3><div class="wall"></div></div>
<div class="member-section" id="anton-selection"><h3>ANTON</h3><div class="wall"></div></div>
<div class="member-section" id="brii7e-selection"><h3>BRII7E</h3><div class="wall"></div></div>
</section>

<section id="design-submission">
<h2>Submit Your Sticky Note Design</h2>
<p>Upload your design so other fans can use it!</p>
<input type="file" id="design-file" accept="image/*">
<select id="design-member">
  <option value="shotaro">SHOTARO</option>
  <option value="eunseok">EUNSEOK</option>
  <option value="sungchan">SUNGCHAN</option>
  <option value="wonbin">WONBIN</option>
  <option value="seunghan">SEUNGHAN</option>
  <option value="sohee">SOHEE</option>
  <option value="anton">ANTON</option>
  <option value="brii7e">BRII7E</option>
</select>
<button id="submitDesign">Submit Design</button>
<p id="design-msg" style="color:gold;"></p>
</section>

<section id="design-management">
<h2>Manage Your Designs</h2>
<div id="designContainer" class="design-container"></div>
</section>

<section id="info-section" style="padding:40px; background:#111; margin-top:50px; border-top:2px solid gold;">
  <h2 style="color:gold; text-align:center;">Info & Guidelines</h2>
  <p style="max-width:800px; margin:20px auto; color:white; line-height:1.6;">
    Welcome to the RII7E Sticky Notes Project! Here’s how it works:
    <ul style="text-align:left; list-style:disc; padding-left:20px;">
      <li>Pick a sticky note for your favorite member and write your message (up to 300 characters).</li>
      <li>Submitted notes will appear instantly on the member's wall.</li>
      <li>You can only delete <strong>your own submissions</strong> by clicking the delete button that appears on your note.</li>
      <li>Give love by clicking the ❤️ button! Each note can only be liked once per browser.</li>
      <li>Weekly top-liked notes are highlighted with a gold border on the walls and will also appear on the Favorites page.</li>
      <li>If you are the creator of a top-liked note on the Favorites page, click your note to reveal a special hidden message just for you!</li>
      <li>Upload your own sticky note designs to share with others via the “Submit Your Design” section above.</li>
    </ul>
    Thank you for helping us celebrate OT7 and supporting Seunghan & RIIZE!
  </p>
</section>


<footer>
<p>Project organized by <a href="https://x.com/Eclip7e_project" target="_blank">@Eclip7e_project</a></p>
<img src="logo.png" alt="Logo" height="80">
</footer>

<!-- Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" id="modal-close">&times;</span>
    <h3 id="modal-member">Member</h3>
    <img id="modal-img" src="" alt="Sticky Note" style="width:100%; border-radius:10px;">
    <textarea id="note-text" rows="5" maxlength="300" placeholder="Write your message (max 300 chars)"></textarea>
    <button id="submitNote">Submit</button>
  </div>
</div>

<script>
// ------------------ Setup ------------------
const members = [
  {name:'shotaro', color:'#8B0000', container:'shotaro-selection'},
  {name:'eunseok', color:'#D3D3D3', container:'eunseok-selection'},
  {name:'sungchan', color:'#008000', container:'sungchan-selection'},
  {name:'wonbin', color:'#FF0000', container:'wonbin-selection'},
  {name:'seunghan', color:'#0000FF', container:'seunghan-selection'},
  {name:'sohee', color:'#FFFF00', container:'sohee-selection'},
  {name:'anton', color:'#1E3A5F', container:'anton-selection'},
  {name:'brii7e', color:'#FFA500', container:'brii7e-selection'}
];

const modal = document.getElementById('modal');
const modalClose = document.getElementById('modal-close');
const modalMember = document.getElementById('modal-member');
const modalImg = document.getElementById('modal-img');
const noteText = document.getElementById('note-text');
const submitBtn = document.getElementById('submitNote');

let currentMember = '';
let currentImg = '';

// ------------------ Sticky Note Options ------------------
function renderSelectionWall(memberName){
  const containerDiv = document.querySelector(`#${memberName}-selection .wall`);
  containerDiv.innerHTML='';
  const defaultCount=2;
  for(let i=1;i<=defaultCount;i++){
    const div=document.createElement('div');
    div.className='sticky-note';
    const color = members.find(m=>m.name===memberName).color;
    div.style.borderColor=color;
    div.innerHTML=`<img src="PLACEHOLDER${i}.png">`;
    div.onclick=()=>openModal(memberName, `PLACEHOLDER${i}.png`);
    containerDiv.appendChild(div);
  }
  let designs = JSON.parse(localStorage.getItem(memberName+'_designs')||'[]');
  designs.forEach(src=>{
    const div=document.createElement('div');
    div.className='sticky-note';
    div.style.borderColor=members.find(m=>m.name===memberName).color;
    div.innerHTML=`<img src="${src}">`;
    div.onclick=()=>openModal(memberName, src);
    containerDiv.appendChild(div);
  });
}

function openModal(memberName,imgSrc){
  modal.style.display='block';
  modalMember.textContent=memberName.toUpperCase();
  modalImg.src=imgSrc;
  currentMember=memberName;
  currentImg=imgSrc;
}

// Initial render for all members
members.forEach(m=>renderSelectionWall(m.name));

// ------------------ Modal ------------------
modalClose.onclick = ()=>{modal.style.display='none';};
window.onclick = e=>{if(e.target==modal) modal.style.display='none';};

// ------------------ Submission ------------------
function getCurrentWeek(){
  const startDate=new Date('2025-09-01');
  const now=new Date();
  return Math.floor((now-startDate)/(7*24*60*60*1000))+1;
}

submitBtn.onclick=()=>{
  const text=noteText.value.trim();
  if(!text){alert("Write something!"); return;}
  const week=getCurrentWeek();
  let notes=JSON.parse(localStorage.getItem(currentMember)||'[]');
  notes.push({img:currentImg, text:text, likes:0, week:week});
  localStorage.setItem(currentMember,JSON.stringify(notes));
  noteText.value='';
  modal.style.display='none';
  alert(`Your note has been submitted to ${currentMember.toUpperCase()}'s wall!`);
};

// ------------------ Fan Design Submission ------------------
const submitDesignBtn = document.getElementById('submitDesign');
const designFileInput = document.getElementById('design-file');
const designMember = document.getElementById('design-member');
const designMsg = document.getElementById('design-msg');

submitDesignBtn.onclick = () => {
  const file = designFileInput.files[0];
  const member = designMember.value;
  if(!file) {designMsg.textContent='Select a file!'; return;}
  const reader = new FileReader();
  reader.onload = function(e){
    let designs = JSON.parse(localStorage.getItem(member+'_designs')||'[]');
    designs.push(e.target.result);
    localStorage.setItem(member+'_designs', JSON.stringify(designs));
    designMsg.textContent='Design submitted successfully!';
    designFileInput.value='';
    renderSelectionWall(member);
    renderDesigns(); // update design management section
  };
  reader.readAsDataURL(file);
};

// ------------------ Render & Delete Designs ------------------
function renderDesigns() {
  const container = document.getElementById('designContainer');
  container.innerHTML = '';
  members.forEach(member => {
    let designs = JSON.parse(localStorage.getItem(member.name+'_designs')||'[]');
    designs.forEach((src,index)=>{
      const div=document.createElement('div');
      const img=document.createElement('img');
      img.src=src;
      img.style.border='2px solid '+member.color;
      div.appendChild(img);

      const delBtn=document.createElement('button');
      delBtn.textContent='Delete';
      delBtn.onclick=()=>{
        if(!confirm('Delete this design?')) return;
        designs.splice(index,1);
        localStorage.setItem(member.name+'_designs', JSON.stringify(designs));
        renderSelectionWall(member.name);
        renderDesigns();
      };
      div.appendChild(delBtn);
      container.appendChild(div);
    });
  });
}

// Render designs on page load
renderDesigns();
</script>

</body>
</html>


